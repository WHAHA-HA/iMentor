/*! imentor-mentor_rubric - v0.0.1 - 2016-12-14 */!function(){"use strict";function a(a,b,c){b.otherwise("/"),c.forEach(function(b){a.state(b.name,b.config)})}function b(){return[{name:"mentor_rubric",config:{url:"/",templateUrl:"/new_platform/static/mentor_rubric/nghtml/mentor_rubric.html",controller:"MentorRubricController",controllerAs:"vm"}}]}var c=angular.module("mentor_rubric",["ngAnimate","ui.router","ui.bootstrap","ngHamburger","ngDialog","ngCookies","ngResource","bootstrap-toggle","irontec.simpleChat","isteven-multi-select","ChatModuleAdmin","fsm"]);c.constant("routes",b()),c.config(["$stateProvider","$urlRouterProvider","routes",a]),c.config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","https://cdn.imentor.org/**"])}])}();;
!function(){"use strict";function a(a,b,c,d){function e(b){return a({method:"POST",url:"/mentor_rubric/program_years/",data:{force:!0}}).then(function(a,b,c,d){return a.data},function(a){return console.log("Get PartnerInfo Failed - Network Error - "+a),a})}function f(b){return a({method:"GET",url:"/generic/partner_info/"}).then(function(a,b,c,d){return a.data},function(a){return console.log("Get PartnerInfo Failed - Network Error - "+a),a})}function g(b,c){return j&&0===j.promise.$$state.status?(j.resolve("user cancelled"),j=d.defer()):j=d.defer(),a({method:"POST",url:"/mentor_rubric/rubric_data/",data:JSON.stringify({partner_ids:b,program_year_id:c}),timeout:j.promise}).then(function(a,b,c,d){return a.data},function(a){return console.log("Get NewContent Failed - Network Error - "+a),a})}function h(){j&&j.resolve("user cancelled")}function i(b,c,d,e,f,g,h){return a({method:"POST",url:"/mentor_rubric/mentor_data/",data:JSON.stringify({persona_id:b,user_id:c,program_year_id:d,rubric_strengths_based:e,rubric_resources:f,rubric_response_time:g,rubric_curriculum:h}),timeout:2e4}).then(function(a,b,c,d){return a.data},function(a){return console.log("Get NewContent Failed - Network Error - "+a),a})}var j,k={getProgramYears:e,getPartnerInfo:f,getNewContent:g,cancelNewContentRequest:h,updateData:i};return k}var b="datacontext";angular.module("mentor_rubric").factory(b,["$http","$window","$timeout","$q",a])}();;
!function(){"use strict";function a(a,b,c,d,e,f){function g(){var a="test";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}}function h(){sessionStorage.setItem("browser_session_id",(new Date).getTime()),i()}function i(){return c.loadingMentorRubric=!0,f.getPartnerInfo().then(function(b){l.partner_info=b,a.showDropdownPartner=l.partner_info.length>=1,c.mentorRubrickNoContent=0===b.length,c.loadingMentorRubric=!1,j()})}function j(){return c.loadingMentorRubric=!0,f.getProgramYears().then(function(b){for(var d=0;d<b.length;d++)"True"==b[d].current_program_year&&(b[d].ticked=!0,l.selectedYearids.push(b[d].program_year_id),l.selectedYear=b[d].program_year_id);l.program_years=b,a.showDropdownYears=l.program_years.length>=1,c.mentorRubricNoContent=0===b.length,c.loadingMentorRubric=!1})}function k(a,b){l.selectedContentId=void 0,l.selectedContent=void 0,l.apiCall=!0,a&&a.length>0&&angular.isDefined(b)?(c.loadingMentorRubricNewContent=!0,c.mentorRubricNoContent=!1,f.getNewContent(a,b).then(function(a){l.apiCall=!1,a.status&&a.status===-1&&l.selectedPartnerids.length>0||(l.new_content=a,c.mentorRubricNoContent=0===a.length,c.loadingMentorRubricNewContent=!1)},function(a){l.apiCall=!1})):(l.apiCall=!1,f.cancelNewContentRequest(),l.new_content=[],c.loadingMentorRubricNewContent=!1,c.mentorRubricNoContent=!1,l.filter="new")}var l=this;if(g()===!0)c.storageAvailable=!0,console.log("avail");else{c.storageAvailable=!1,console.log("not avail");var m=document.getElementsByClassName("container"),n=angular.element(m);n.css("display","none")}l.program_years=[],l.partner_info=[],l.new_content=[],l.selectedPartner={},l.selectedPartnerids=[],l.selectedPartnerSites=[],l.selectedYear={},l.selectedYearids=[],l.selectedYears=[],l.filter="new",l.searchString="",l.filteredItems=[],l.partnerSitesLang={selectAll:"Select All",selectNone:"Select None",search:"Search...",nothingSelected:"Choose a class"},l.programYearsLang={selectAll:"Select All",selectNone:"Select None",search:"Search...",nothingSelected:"Choose a year"},l.options=[{id:1,label:"1"},{id:2,label:"2"},{id:3,label:"3"}],l.useFixedHeader=!0,isMobile.phone&&(l.useFixedHeader=!1);var o=e.host(),p=o.split(".")[0];c.subdomain=p,l.updatePartnerAll=function(){if(1!=l.apiCall){var a=_.pluck(l.partner_info,"id");l.selectedPartnerids=a,l.selectedPartner=0===a.length?void 0:a[0],k(l.selectedPartnerids,l.selectedYear)}},l.updatePartner=function(){if(1!=l.apiCall){var a=_.pluck(l.selectedPartnerSites,"id");l.selectedPartnerids=a,l.selectedPartner=0===a.length?void 0:a[0],k(l.selectedPartnerids,l.selectedYear)}},l.resetPartner=function(){l.selectedPartner=void 0,l.selectedPartnerids=[],k(l.selectedPartnerids,l.selectedYear)},l.updateYearAll=function(){if(1!=l.apiCall){var a=_.pluck(l.program_years,"id");l.selectedYearids=a,l.selectedYear=0===a.length?void 0:a[0],k(l.selectedPartnerids,l.selectedYear)}},l.updateYear=function(){if(1!=l.apiCall){var a=_.pluck(l.selectedYears,"program_year_id");l.selectedYearids=a,l.selectedYear=0===a.length?void 0:a[0],k(l.selectedPartnerids,l.selectedYear)}},l.resetYear=function(){l.selectedYear=void 0,l.selectedYearids=[],k(l.selectedPartnerids,l.selectedYear)},l.updateFilter=function(a){l.searchString="",l.filter=a,k(l.selectedPartnerids,l.selectedYear)},l.updateContentSelection=function(a){a===l.selectedContent?l.selectedContent=void 0:l.selectedContent=a},l.updateData=function(a){return c.savedNotification=!0,c.saveSuccessNotification=!1,l.selectedContent=a,f.updateData(l.selectedContent.mentor_persona_id,l.selectedContent.mentor_user_id,l.selectedYear,l.selectedContent.rubric_strengths_based,l.selectedContent.rubric_resources,l.selectedContent.rubric_response_time,l.selectedContent.rubric_curriculum).then(function(b){c.savedNotification=!1,a.rubric_admin_updated=!0,a.changed=!1})},l.showSaved=function(a){return"NA"!=a.rubric_admin_updated&&0==angular.isDefined(a.changed)||a.changed===!1},l.showSubmit=function(a){return"NA"==a.rubric_admin_updated||a.changed===!0},h(),a.$watchCollection("vm.filteredItems",function(a,b){b&&b!=a&&(c.mentorRubricNoContent=0===a.length)}),c.$on("ngDialog.closing",function(a,b){c.loadingMentorRubric=!1,l.updatePartner()})}function b(a,b,c,d,e,f,g){function h(){var a="test";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(b){return!1}}if(a.isOnPartnerList=!1,a.allReady=!1,a.hamburgerHover=function(){var a=document.getElementsByClassName("material-design-hamburger__layer"),b=angular.element(a);b.css("background","gray")},a.HamburgerUnhover=function(){var a=document.getElementsByClassName("material-design-hamburger__layer"),b=angular.element(a);b.css("background","white")},a.getMessagesUnseenCount=function(){return b.get("/conv/unseen/count/",{})},h()===!0)e.storageAvailable=!0;else{e.storageAvailable=!1;var i=document.getElementsByClassName("presentation"),j=angular.element(i);j.css("display","none")}var k=c.host();console.log("$rootScope.showChat"+k);var l=k.split(".")[0];a.subdomain=l;var m=["127","platformtraining"];e.showChat=m.indexOf(l)!=-1||"nyc.imentordev.org"==c.host(),b({method:"GET",url:"/generic/user_info/"}).then(function(b,c,d,f){return console.log("user: "+b.data.self.f_name),e.firstname=b.data.self.f_name,e.lastname=b.data.self.l_name,e.useridnum=b.data.self.user_id,e.userrole=b.data.self.role,e.persona=b.data.self.persona_id,e.match_status=b.data.self.match_status,console.log("user role: "+e.userrole),"undefined"!=typeof b.data.mentor&&"undefined"!=typeof b.data.mentor.f_name?(e.otherPersonMentor=b.data.mentor.f_name,e.otherMentorPhoto=b.data.mentor.photo,e.mentorId=b.data.mentor.user_id):"undefined"!=typeof b.data.mentee&&"undefined"!=typeof b.data.mentee.f_name&&(console.log("2"),e.otherPersonMentee=b.data.mentee.f_name,e.otherMenteePhoto=b.data.mentee.photo,e.menteeId=b.data.mentee.user_id),a.allReady=!0,b.data},function(a){return console.log(a),a}),a.openCanvasVideo=function(){g.put("canvasVideo",!0),f.open({template:"/new_platform/static/canvas/nghtml/canvasVimeo.html",controller:["$scope",function(a){a.closeSurvey=function(){f.closeThisDialog()}}],className:"ngdialog-theme-plain custom-width",showClose:!0})},a.reviewWork=function(){var a="//"+d.location.host+"/canvas/#/";d.location.href=a},a.isOnPartnerList=function(){var b=c.host(),d=b.split(".")[0];console.log("ch: "+d);var e=["mentor2","bbbspgh","bbbscharlotte","bbbswillgrundy","bbbsc","bbbscil","nyc","chicago","platformtraining","bbbsmilwaukee","127"],f=e.indexOf(d);return f!==-1?(a.isOnPartnerList=!0,!0):(a.isOnPartnerList=!1,!1)},a.isOnPartnerListTableau=function(){var b=c.host(),d=b.split(".")[0];a.subdomain=d,console.log("ch: "+d);var e=["nyc","bayarea","platformtraining","chicago","mentor2","bbbscil","bbbs-cnm","bbbscharlotte","bbbsc","bbbspgh","bbbstx","bbbsmilwaukee","bbbsu","bbbswillgrundy","127"],f=e.indexOf(d);f!==-1?a.isOnPartnerListTableau=!0:a.isOnPartnerListTableau=!1},a.isOnPartnerListTableau();var n={bayarea:"/dw_reports/S_T_E_V_E_BAY/ProgramManagerSummary/",nyc:"/dw_reports/S_T_E_V_E_NYC/ProgramManagerSummary/",platformtraining:"/dw_reports/S_T_E_V_E_NYC/ProgramManagerSummary/",chicago:"/dw_reports/S_T_E_V_E__CHI/ProgramManagerSummary/",mentor2:"/dw_reports/ProgramEngagement-BigBend/Summary/",bbbscil:"/dw_reports/ProgramEngagement-CentralIllinois/Summary/","bbbs-cnm":"/dw_reports/ProgramEngagement-CentralNewMexico/Summary/",bbbscharlotte:"/dw_reports/ProgramEngagement-Charlotte/Summary/",bbbsc:"/dw_reports/ProgramEngagement-Colorado/Summary/",bbbspgh:"/dw_reports/ProgramEngagement-GreaterPittsburgh/Summary/",bbbstx:"/dw_reports/ProgramEngagement-LoneStar/Summary/",bbbsmilwaukee:"/dw_reports/ProgramEngagement-Milwaukee/Summary/",bbbsu:"/dw_reports/ProgramEngagement-Utah/Summary/",bbbswillgrundy:"/dw_reports/ProgramEngagement-WillandGrundy/Summary/",127:"/dw_reports/ProgramEngagement-BigBend/Summary/"};a.getProgramParticipationUrlAll=function(a){var d=c.protocol()+"://"+c.host()+a;return b.get(d,{})},a.getProgramParticipation=function(b){console.log(b),console.log("subdomain add"+n[b]);var c=n[b];c&&a.getProgramParticipationUrlAll(c).then(function(b){a.programUrl=b.data.standard_url})},a.getProgramParticipation(a.subdomain),a.logout=function(){var a="//"+d.location.host+"/iuser/logout/";d.location.href=a},a.clearViewHistory=function(){console.log("clearViewHistory"),e.$viewHistory={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},backView:null,forwardView:null,currentView:null,disabledRegistrableTagNames:[]}}}var c="MentorRubricController";angular.module("mentor_rubric").controller(c,a),a.$inject=["$scope","$interval","$rootScope","ngDialog","$location","datacontext"],angular.module("mentor_rubric").controller("headerController",b),b.$inject=["$scope","$http","$location","$window","$rootScope","ngDialog","$cookies"],angular.module("mentor_rubric").directive("iframeOnload",[function(){return{scope:{callBack:"&iframeOnload"},link:function(a,b,c){b.on("load",function(){return a.callBack()})}}}])}();;
angular.module("mentor_rubric").run(["$templateCache",function(a){"use strict";a.put("/new_platform/static/mentor_rubric/nghtml/header-bar.html",'<div ng-controller="headerController">\n<div class="navbar navbar-default" role="navigation">\n  <div class="container-fluid">\n    <div class="navbar-header" style="font-weight: 400;color:white;">\n      <hamburger-toggle ng-mouseover="hamburgerHover()" ng-mouseleave="HamburgerUnhover()" ng-click="toggleState()" style="cursor: pointer;" state="tgState" class="hamburger-toggle"></hamburger-toggle>\n      <span class="navbar-brand">\n        Mentor Rubric\n      </span>\n      <div style="display: inline-block;position: relative;top: 9px;left:10px;">\n        <span ng-if="loadingMentorRubric || loadingMentorRubricNewContent">Loading...</span>\n        <span ng-if="storageAvailable == false">Please disable private browsing.</span>\n        <span ng-if="unauthorizedUser || flipbookNoContent">Content is not available.</span>\n        <span ng-if="savedNotification && !loadingMentorRubric && !loadingMentorRubricNewContent">Saving...</span>\n      </div>\n\n\n      <div class="notifications">\n        <span ng-click="$root.toggleChat();" ng-if="userrole === \'Mentor\' || userrole === \'Mentee\'" class="username">{{firstname}} {{lastname.split(\'\')[0]}}</span>\n        <span ng-click="$root.toggleChat();"  ng-if="userrole !== \'Mentor\' && userrole !== \'Mentee\'" class="username">{{firstname}} {{lastname.split(\'\')[0]}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n<div class="sidenav" ng-class="{open: tgState}" ng-init="Administration = false; Reports = false;" style="font-size:14px;font-weight: 400;">\n  <ul ng-if="userrole === \'Mentor\' || userrole === \'Mentee\'" class="nav nav-pills nav-stacked">\n    <li ui-sref-active="active"><a href="/canvas/#/">Current Lesson</a></li>\n    <li ui-sref-active="active"><a href="/portfolio/#/">Portfolio</a></li>\n    <li ng-if="(match_status === \'M\' && userrole === \'Mentor\') || userrole === \'Mentee\'" ui-sref-active="active"><a href="/cchklist/list/#/">College Checklist</a></li>\n    <li><a href="/events/personal/">Calendar</a></li>\n    <!--<li><a href="/iuser/myinfo/{{persona}}/" >Profile</a></li>-->\n    <!--<li ng-show="userrole === \'Mentee\'"><a href="https://learn.imentor.org/help/article/link/imentor-curriculum">Resources</a></li>-->\n    <li ng-show="userrole !== \'Mentee\'"><a href="https://learn.imentor.org/help/article/link/home" target="_blank">Learning Center</a></li>\n    <li><a href="/message/list/">Legacy Platform</a></li>\n    <li ui-sref-active="active"><a href="https://imentor.org/privacy-policy">iMentor Privacy Policy</a></li>\n    <li ui-sref-active="active"><a  href="" ng-click="logout();">Sign out</a></li>\n  </ul>\n  <ul ng-if="userrole !== \'Mentor\' && userrole !== \'Mentee\'" class="nav nav-pills nav-stacked">\n    <li ui-sref-active="active"><a href="/canvas/#/">Current Lesson</a></li>\n    <li ui-sref-active="active"><a href="/portfolio/#/">Portfolio</a></li>\n    <li ui-sref-active="active"><a href="/lesson_mgmt/#/">Lesson Management</a></li>\n    <li><a href="/events/admin/">Calendar</a></li>\n    <li><a href="/message/list/note/">Add a Note</a></li>\n    <!--<li><a href="/iuser/backend_profile/{{persona}}/" >Profile</a></li>-->\n    <li><a ng-click="Administration = !Administration" style="cursor:pointer"><span class="fa fa-caret-down" style="position: relative;top: 3px;margin-right: 3px;font-size: 14px;"></span> Administration </a></li>\n    <ul ng-show="Administration === true" class="submenu">\n      <li><a href="/iuser/" >Users</a></li>\n      <li><a href="/partners/list/">Partner Sites</a></li>\n      <li><a href="/attendance/">Attendance</a></li>\n      <!--<li><a href="/survey/">Surveys</a></li>-->\n      <li><a href="/new_surveys/">Surveys</a></li>\n      <li ng-show="subdomain === \'nyc\' || subdomain == \'chicago\' || subdomain == \'platformtraining\' || subdomain == \'127\' || subdomain == \'bayarea\' || subdomain == \'cnm\'"><a href="/enrollment/">Mentee Enrollment</a></li>\n      <li ng-show="subdomain === \'platformtraining\'"><a href="/mentor_rubric/">Mentor Rubric</a></li>\n      <!--<li><a href="/reporting/manage_alerts/">Alerts</a></li>-->\n    </ul>\n    <li><a ng-click="Reports = !Reports" style="cursor:pointer"><span class="fa fa-caret-down" style="position: relative;top: 3px;margin-right: 7px;font-size: 14px;"></span>Reports</a></li>\n    <ul ng-show="Reports === true" class="submenu">\n      <li><a href="/snapshot/">Snapshot</a></li>\n      <li ng-show="isOnPartnerListTableau && (subdomain == \'nyc\' || subdomain == \'chicago\' || subdomain == \'bayarea\')"><a ng-href="{{programUrl}}" target="_blank" style="cursor: pointer;" ng-click="getProgramParticipation(subdomain);">S.T.E.V.E.</a></li>\n      <li ng-show="isOnPartnerListTableau && (subdomain != \'nyc\' && subdomain != \'chicago\' && subdomain != \'bayarea\' && subdomain == \'127\') && userrole != \'Partner Admin\'"><a ng-href="{{programUrl}}" target="_blank" style="cursor: pointer;" ng-click="getProgramParticipation(subdomain);">Participation History</a></li>\n      <li><a href="/flipbook/">Flipbook</a></li>\n      <li><a href="/reporting/intake_application_tracker/">Intake App Tracker</a></li>\n      <li><a href="/iuser/screening_tracker/">Screening Tracker</a></li>\n      <!--<li><a href="/reporting/participation_tracker/">MPT</a></li>-->\n      <!--<li><a href="/reporting/email_tracker/">Email Tracker</a></li>-->\n      <!--<li><a href="/reporting/email_log/">Email Log</a></li>-->\n      <li><a href="/reporting/event_tracker/">Event Tracker</a></li>\n      <li><a href="/reporting/event_log/">Event Log</a></li>\n      <!--<li><a href="/ratings/tracker/pairs/2/">Ratings Tracker</a></li>-->\n      <li><a href="/notes/support_tracker_pair/">Support Tracker</a></li>\n      <li><a href="/notes/note_log/">Note Log</a></li>\n    </ul>\n    <li><a href="https://learn.imentor.org/" target="_blank">Learning Center</a></li>\n    <li><a href="/message/list/">Legacy Platform</a></li>\n    <li ui-sref-active="active"><a href="https://imentor.org/privacy-policy">iMentor Privacy Policy</a></li>\n    <li ui-sref-active="active"><a href="" ng-click="logout();">Sign out</a></li>\n  </ul>\n</div>\n</div>\n'),a.put("/new_platform/static/mentor_rubric/nghtml/mentor_rubric.html",'<div class="UnitContainer" id="top" style="">\n  <div>\n    <h2 class="admin-heading" style="padding-bottom: 15px; padding-bottom: 30px;" >Evaluate your mentors</h2>\n\n    <div ng-if="showDropdownYears" style="position: relative;top:0px; display: inline-block; margin-right: 10px;" class="mobileCont">\n\n      <div\n              isteven-multi-select\n              input-model="vm.program_years"\n              output-model="vm.selectedYears"\n              button-label="program_year_description"\n              item-label="program_year_description"\n              tick-property="ticked"\n              class="partner-sites"\n              max-height="200px"\n              max-labels="1"\n              on-item-click="vm.updateYear()"\n              on-select-all="vm.updateYearAll()"\n              on-select-none="vm.resetYear()"\n              on-reset="vm.resetYear()"\n              translation="vm.programYearsLang"\n              helper-elements="all filter none"\n              selection-mode="single"\n      >\n      </div>\n      <div\n              isteven-multi-select\n              input-model="vm.partner_info"\n              output-model="vm.selectedPartnerSites"\n              button-label="name"\n              item-label="name"\n              tick-property="ticked"\n              class="partner-sites"\n              max-height="200px"\n              max-labels="1"\n              on-item-click="vm.updatePartner()"\n              on-select-all="vm.updatePartnerAll()"\n              on-select-none="vm.resetPartner()"\n              on-reset="vm.resetPartner()"\n              translation="vm.partnerSitesLang"\n              helper-elements="all filter none"\n              style="margin-left: 10px;" >\n      </div>\n      <div class="refresh">\n        <button ng-click="vm.updatePartner()" class="icon" ng-disabled="vm.apiCall" ng-hide="vm.selectedPartnerSites.length === 0 "><i class="fa fa-refresh"></i></button>\n      </div>\n    </div>\n\n    <div class="rubric-criteria" >\n       <!-- Nav tabs -->\n      <div class="info-header" role="tablist">Rubric Criteria</div>\n  <ul class="nav nav-tabs  nav-justified" role="tablist">\n    <li role="presentation" class="active"><a href="#strenghts-based" aria-controls="strenghts-based" role="tab" data-toggle="tab">Strengths Based</a></li>\n    <li role="presentation"><a href="#resources" aria-controls="resources" role="tab" data-toggle="tab">Resources</a></li>\n    <li role="presentation"><a href="#response-time" aria-controls="response-time" role="tab" data-toggle="tab">Response Time</a></li>\n    <li role="presentation"><a href="#curriculum" aria-controls="curriculum" role="tab" data-toggle="tab">Curriculum</a></li>\n  </ul>\n\n  <!-- Tab panes -->\n  <div class="tab-content">\n    <div role="tabpanel" class="tab-pane active" id="strenghts-based">\n      <p class="rubric-criteria-title">Mentor takes a strengths-based stance regarding their mentee.</p>\n       <p>\n         <div class="row1">\n        <div class="col-md-4 col-lg-4 criteria-col">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >1</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Not Meeting Expectations</p>\n                <p>Complains about mentee without an effort to maintain positivity about mentee potential. Makes negative assumptions about mentee motivations or behavior without sufficient information.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4 criteria-col">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >2</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Meeting Expectations</p>\n                <p>Mentor makes an effort to identify and capitalize on the strengths of the mentee regardless of the context and demonstrates persistence and positivity in the face of challenging situations with their mentee.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4 criteria-col">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >3</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Exceeding Expectations</p>\n                <p>Mentor demonstrates an extraordinary ability to identify and capitalize on the strengths of the mentee regardless of the context and demonstrates persistence and positivity in the face of challenging situations with their mentee.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n    </div>\n      </p>\n    </div>\n    <div role="tabpanel" class="tab-pane" id="resources">\n      <p class="rubric-criteria-title">Mentor supports mentee in utilizing all resources, when appropriate (including reaching out to their staff member or other external resources).</p>\n       <p>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >1</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Not Meeting Expectations</p>\n                <p>When opportunities to identify additional support for a mentee emerge, mentor does not utilize appropriate resources.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >2</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Meeting Expectations</p>\n                <p>When appropriate, mentor identifies additional support structures for the mentee based on mentee’s need (e.g. family, guidance counselor, etc.).</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >3</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Exceeding Expectations</p>\n                <p>Mentor takes initiative beyond locating an individual to help his/her mentee and identifies resources based on a mentee’s need and specifically aids in the mentee’s addressing challenges or answering difficult questions.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </p>\n    </div>\n    <div role="tabpanel" class="tab-pane" id="response-time">\n      <p class="rubric-criteria-title">Mentor responds to staff member in a timely fashion.</p>\n       <p>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >1</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Not Meeting Expectations</p>\n                <p>Mentor consistently does not respond to staff member within a week of being contacted.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >2</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Meeting Expectations</p>\n                <p>Mentor, on average, responds to staff member within a week of being contacted for any programmatic reasons.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >3</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Exceeding Expectations</p>\n                <p>Mentor consistently responds to any staff member contacts within 48 hours.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </p>\n    </div>\n    <div role="tabpanel" class="tab-pane" id="curriculum">\n      <p class="rubric-criteria-title">Mentor models effective use of canvas prompt curriculum.</p>\n       <p>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >1</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Not Meeting Expectations</p>\n                <p>Mentor consistently does not adhere to the canvas prompt guidelines.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >2</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Meeting Expectations</p>\n                <p>Mentor adheres to canvas prompt guidelines on a regular basis and communicates in an appropriate way.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n        <div class="col-md-4 col-lg-4">\n          <table>\n            <tr>\n              <td class="rubric-criteria-value"><div >3</div></td>\n              <td>\n                <p class="rubric-criteria-description-title">Exceeding Expectations</p>\n                <p>Mentor includes more high-quality and informative detail in his/her communications to his/her mentee than is suggested by the canvas prompt guidelines.</p>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </p>\n    </div>\n  </div>\n    </div>\n\n  </div>\n  <div style="position: relative; top:0px;" class="mobileCont">\n    <div ng-show="vm.selectedPartnerSites.length>0">\n      <div class="row filter-buttons" >\n        <div class="col-md-12 col-lg-12">\n          \n          <input class="search" placeholder="Search" ng-model="vm.searchString">\n          <i class="fa fa-search fa-flip-horizontal" aria-hidden="true"></i>\n        </div>\n      </div>\n      <div class="margin-15"></div>\n      <table class="table table-striped new-content" ng-show="loadingMentorRubricNewContent === false && vm.new_content.length>0 && vm.filteredItems.length>0" id="rubric-table">\n        <thead style="">\n        <tr class="table-header table-header-top">\n          <th colspan="12" class="text-bottom manage-col">\n            <span href class="pull-right" style="padding: 3px 10px;" ng-click="">Showing {{vm.new_content.length}} mentors</span>\n\n          </th>\n        </tr>\n          <tr style="background-color: #4a4a4a;"  fsm-sticky-header="vm.useFixedHeader" scroll-body="#rubric-table" scroll-stop=\'35\'  fsm-z-index="9">\n            <!--<th rowspan="" class="text-bottom manage-col">\n              <span dropdown on-toggle="toggled(open)" class="pull-left dropdown"\n                >\n                <a href dropdown-toggle style="color: white;" ng-class="{\'disabled\': !vm.selectedContent}">\n                  Manage <i class="fa fa-wrench"></i>\n                </a>\n              </span>\n            </th>-->\n            <th>Mentor First</th>\n            <th>Mentor Last</th>\n            <th>Mentee First</th>\n            <th>Mentee Last</th>\n            <th class="drop-down-column">Strengths Based</th>\n            <th class="drop-down-column">Resources</th>\n            <th class="drop-down-column">Response Time</th>\n            <th class="drop-down-column">Curriculum</th>\n            <th style="text-align: center;">Complete</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr  ng-repeat="content in  (vm.filteredItems = (vm.new_content  | filter:vm.searchString))"   ng-class="{\'selected\': vm.selectedContent == content, \'unselected\': vm.selectedContent != content}">\n            <!--<td class="text-center manage-col"  ng-click="vm.updateContentSelection(content)"\n              >\n              <span class="glyphicon glyphicon-ok"  ng-class="{\'selected\': vm.selectedContent == content, \'unselected\': vm.selectedContent != content}" />\n              </td>-->\n              <td><a ng-href="{{content.mentor_profile_link}}" target="_blank">{{content.mentor_first_name}}</a></td>\n              <td><a ng-href="{{content.mentor_profile_link}}" target="_blank">{{content.mentor_last_name}}</a></td>\n              <td><a ng-href="{{content.mentee_profile_link}}" target="_blank">{{content.mentee_first_name}}</a></td>\n              <td><a ng-href="{{content.mentee_profile_link}}" target="_blank">{{content.mentee_last_name}}</a></td>\n              <td>\n                <select ng-model="content.rubric_strengths_based" ng-options="option.id as option.label for option in vm.options"  class="selectDefault " ng-class="{\'selectOne\' : content.rubric_strengths_based == 1, \'selectTwo\' : content.rubric_strengths_based == 2, \'selectThree\' : content.rubric_strengths_based == 3}"  ng-change="content.changed=true;">\n                </select>              \n              </td>\n              <td>\n                <select ng-model="content.rubric_resources" ng-options="option.id as option.label for option in vm.options"  class="selectDefault " ng-class="{\'selectOne\' : content.rubric_resources == 1, \'selectTwo\' : content.rubric_resources == 2, \'selectThree\' : content.rubric_resources == 3}"  ng-change="content.changed=true;">\n                </select>\n                \n              </td>\n              <td>\n                <select ng-model="content.rubric_response_time" ng-options="option.id as option.label for option in vm.options"  class="selectDefault " ng-class="{\'selectOne\' : content.rubric_response_time == 1, \'selectTwo\' : content.rubric_response_time == 2, \'selectThree\' : content.rubric_response_time == 3}"  ng-change="content.changed=true;">\n                </select>\n                \n              </td>\n              <td>\n                <select ng-model="content.rubric_curriculum" ng-options="option.id as option.label for option in vm.options"  class="selectDefault " ng-class="{\'selectOne\' : content.rubric_curriculum == 1, \'selectTwo\' : content.rubric_curriculum == 2, \'selectThree\' : content.rubric_curriculum == 3}"  ng-change="content.changed=true;">\n                </select>\n        \n              </td>\n              <td style="text-align: center;">\n                <button ng-show="vm.showSaved(content)" class="btn  btn-default btn-green" >Saved</button>\n                <button ng-show="vm.showSubmit(content)" ng-click="vm.updateData(content);" class="btn btn-default btn-gray">Submit</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    \n  </div>')}]);;
!function(){"use strict";function a(a,b,c,d,e,f,g,h,i,j){function k(a){if(a.length>0){console.log("new messages");for(var b=0;b<a.length&&1!=a[b].auto_saved;b++){for(var d=!1,e=0;e<l.messages.length;e++){if(l.messages[e].sequence===a[b].sequence&&l.messages[e].first_name===a[b].first_name&&l.messages[e].data===a[b].data){d=!0,l.messages[e].first_name!=c.firstname;break}if(l.messages[e].first_name===c.firstname&&l.messages[e].first_name===a[b].first_name&&l.messages[e].data===a[b].data&&"undefined"==typeof l.messages[e].received_by_server){d=!0;break}}d===!1&&l.messages.push({data:a[b].data,first_name:a[b].first_name,received_show_date:a[b].received_show_date,received_by_server:a[b].received_by_server,sequence:a[b].sequence,recipient_user_id:a[b].recipient_user_id})}l.messages.length>0&&(c.lastMessageDatestamp=l.messages[l.messages.length-1].received_by_server)}}var l=this;a.data=[],a.getMessages=function(){return c.user_id2?f.get("/conv/chat/"+c.user_id2+"/",{}):f.get("/conv/chat/",{})},a.getCombinedMessages=function(){return"undefined"!=typeof c.lastMessageDatestamp?a.getMessagesLive():a.getMessagesLive()},a.postMessage=function(a,b){return b=c.mentorId2?c.mentorId2:c.menteeId2,console.log("recipient"+b),c.user_id2?f.post("/conv/chat/live/"+c.user_id2+"/",{data:a,recipient_user_id:b,sent:!0}):f.post("/conv/chat/live/",{data:a,recipient_user_id:b,sent:!0})},a.getPartnerInfo=function(){return f.get("/generic/partner_info/",{})},a.getPartnerInfo().then(function(a){var b=a.data[0].id;console.log("id"+b);var d=[2338,2339,2340,2341,2372,2373,2374,2375,2376,2377,1930,1931,1932,1933,1962,1963,1964,1965,2211,2212,2033,2213,2214],e=d.indexOf(b);e!==-1?(c.isOnPartnerIdList=!0,console.log("partner on list")):c.isOnPartnerIdList=!1}),l.sendMessage=function(b,d){function e(a){var b=a.getHours(),c=a.getMinutes(),d=b>=12?"PM":"AM";b%=12,b=b?b:12,c=c<10?"0"+c:c;var e=b+":"+c+d;return e}var f=angular.copy(b);c.chatTitle="Sending...",d=c.mentorId2?c.mentorId2:c.menteeId2,console.log("send msg username: "+d);var g=new Date;l.dateSent="Today at "+e(g),l.sendingTxt=!0;var h=new Autolinker({urls:{schemeMatches:!0,wwwMatches:!0,tldMatches:!0},email:!0,phone:!0,twitter:!1,hashtag:!1,stripPrefix:!1,newWindow:!0,truncate:{length:0,location:"end"},className:""});return f=h.link(f),console.log(f),a.postMessage(f,d).then(function(a){403==a.status&&(j.location.href="/"),l.sendingTxt=!1,console.log(a),l.writingMessage="";var b=a.data.messages;return k(b),c.chatTitle=c.chatDefautTitle,!0}).catch(function(b){return a.sendingTxt=!1,c.chatTitle="Send failed. Please resend.",console.log("Error occurred"),!1})},c.loadMoreMessages=function(){if("Reload"==c.chatLoadMoreText)return void c.openChatAdmin(c.user_id2,c.conversationSnapshotStartDate,c.conversationSnapshotEndDate);c.chatLoadingMore=!0,c.chatLoadMoreText="loading...",c.chatTitle="Loading...";var b=document.getElementsByClassName("msg-container-base")[0],d=b.scrollHeight-b.scrollTop;console.log("load more msgs!!"),a.getMessagesIdLimit().then(function(e){403==e.status&&(j.location.href="/"),c.chatLoadingMore=!1,c.chatLoadMoreText="load previous messages";$.grep(e.data.messages,function(a,b){return a.first_name!=c.firstname}),$.grep(e.data.messages,function(a,b){return a.first_name===c.firstname});if(a.moredata=e.data.messages,a.moredata.length>0){console.log("new messages"),c.lastMessageId=a.moredata[0].id;for(var f=a.moredata.length-1;f>=0;f--){for(var g=!1,i=0;i<l.messages.length;i++){if(l.messages[i].sequence===a.moredata[f].sequence&&l.messages[i].first_name===a.moredata[f].first_name&&l.messages[i].data===a.moredata[f].data){g=!0;break}if(l.messages[i].first_name===c.firstname&&l.messages[i].first_name===a.moredata[f].first_name&&l.messages[i].data===a.moredata[f].data&&"undefined"==typeof l.messages[i].received_by_server){g=!0;break}}g===!1&&l.messages.unshift({data:a.moredata[f].data,first_name:a.moredata[f].first_name,received_show_date:a.moredata[f].received_show_date,received_by_server:a.moredata[f].received_by_server,sequence:a.moredata[f].sequence,recipient_user_id:a.moredata[f].recipient_user_id})}a.moredata.length<20&&(c.chatLoadMoreText="no more messages",c.chatLoadingMore=!0),h(function(){b.scrollTop=b.scrollHeight-d},500)}else c.chatLoadMoreText="no more messages",c.chatLoadingMore=!0;"Loading..."==c.chatTitle&&(c.chatTitle=c.chatDefautTitle)}).catch(function(){c.chatLoadMoreText="load previous messages",c.chatTitle="Load failed. Please retry.",c.chatLoadingMore=!1})},l.username=c.mentorId2?c.mentorId2:c.menteeId2,l.user=c.firstname,l.visible=!1,l.expandOnNew=!0,l.title="Write to your mentor/mentee",l.theme="material",l.messages=[],c.chatLoadMoreText="Reload"}var b=angular.module("ChatModuleAdmin",[]);b.config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","https://cdn.imentor.org/**"])}]);var c="Shell";a.$inject=["$scope","$interval","$rootScope","ngDialog","$location","$http","Data","$timeout","$resource","$window"],b.controller(c,a).filter("highlight",["$sce",function(a){return function(b,c){return c&&(b=b.replace(new RegExp("("+c+")","gi"),'<span class="highlighted">$1</span>')),a.trustAsHtml(b)}}]).factory("Data",["$resource",function(a){return a("/conv/unseen/",{},{query:{method:"GET",params:{},isArray:!0}})}]).filter("reverse",function(){return function(a){return a.slice().reverse()}})}();;
!function(){"use strict";function a(a){function c(b,c){b.inputPlaceholderText||(b.inputPlaceholderText="Write your message here..."),b.submitButtonText&&""!==b.submitButtonText||(b.submitButtonText="Send"),b.title||(b.title="Chat"),b.$msgContainer=$(".msg-container-base"),b.$chatInput=$(c).find(".chat-input");var d=b.$msgContainer[0];b.$msgContainer.bind("scroll",_.throttle(function(){var c=d.scrollHeight;d.scrollTop<=10&&(b.historyLoading=!0,b.$apply(b.infiniteScroll),a(function(){b.historyLoading=!1,c!==d.scrollHeight&&b.$msgContainer.scrollTop(360)},150))},300))}var d={restrict:"EA",templateUrl:"/new_platform/static/flipbook/nghtml/chatTemplate.html",replace:!0,scope:{messages:"=",username:"=",myUserId:"=",inputPlaceholderText:"@",submitButtonText:"@",title:"@",theme:"@",submitFunction:"&",visible:"=",infiniteScroll:"&",expandOnNew:"="},link:c,controller:b,controllerAs:"vm"};return d}function b(a,b,c,d,e,f){function g(b){q.sendingTxt=!0,b||(b=q.writingMessage),a.submitFunction()(b,q.username).then(function(a){console.log(a),1!=a||b.startsWith("<a href")||(q.writingMessage=""),q.sendingTxt=!1,h()}),h()}function h(){b(function(){a.$msgContainer.scrollTop(a.$msgContainer[0].scrollHeight)},200,!1)}function i(){console.log("$rootScope.markAsRead"+c.markAsRead),a.visible=!1,c.markAsRead=!1,console.log("$rootScope.markAsRead"+c.markAsRead),q.chatButtonClass="fa-expand icon_minim",q.panelStyle={display:"none"},q.isHidden=!0,c.markAsRead=!1,a.visible=!1}function j(){q.isHidden?(q.chatButtonClass="fa-angle-double-down icon_minim",q.panelStyle={display:"block"},q.isHidden=!1,c.markAsRead=!0,h()):(c.markAsRead=!1,q.chatButtonClass="fa-expand icon_minim",q.panelStyle={display:"none"},q.isHidden=!0)}function k(c){c.savedname=c.name,a.setProgress(!0),c.upload=f.upload({url:"/user_content/",method:"POST",file:c,fileFormDataName:"file"}),c.upload.then(function(d){b(function(){angular.isDefined(d)&&(c.result=d.data,c.savedname=l(c.result.url)),a.setProgress(!1);var b=({url:c.result.url,filename:c.savedname},c.savedname.substr(c.savedname.lastIndexOf(".")));b=b.toLowerCase(),".jpg"==b||".jpeg"==b||".gif"==b||".png"==b?q.submitFunction("<a href='"+c.result.url+"' target='_blank'><img  img-fix-orientation='"+c.result.url+"' style='width: auto;max-height:240px;max-width: 100%;' src='"+c.result.url+"' /></a>"):q.submitFunction("<a href='"+c.result.url+"' target='_blank'>"+c.savedname+"</a>"),h(),a.remove(c)})},function(b){b.status>0&&(c.result=b.status+": "+b.data),a.errorMsg='failed to upload. Please click the red "X" icon to the left and try again, or contact your staff member with the full name of the file to get help.',a.setProgress(!1)}),c.upload.progress(function(a){c.progress=Math.min(100,parseInt(100*a.loaded/a.total))}),c.upload.xhr(function(a){})}function l(a){var b=a;return b=b.substring(0,b.indexOf("#")==-1?b.length:b.indexOf("#")),b=b.substring(0,b.indexOf("?")==-1?b.length:b.indexOf("?")),b=b.substring(b.lastIndexOf("/")+1,b.length)}var m=e.search(),n=m.user,o=m.start,p=m.end;console.log(m.user),console.log(m.start),console.log(m.end),c.conversationSnapshotStartDate=o,c.conversationSnapshotEndDate=p,c.openChatAdmin=function(b,e,f){angular.isDefined(b)&&angular.isDefined(e)&&angular.isDefined(f)&&(console.log("user_id"+b,"start_date"+e,"end_date"+f),c.user_id2=b,q.messages&&(q.messages.length=0),q.chatButtonClass="fa-angle-double-down icon_minim",q.panelStyle={display:"block"},q.isHidden=!1,a.visible=!0,a.getUserInfo=function(){return c.user_id2?d.get("/generic/user_info/"+c.user_id2+"/",{}):d.get("/generic/user_info/",{})},a.getMessages=function(){return c.user_id2?d.get("/conv/chat/"+c.user_id2+"/",{}):d.get("/conv/chat/",{})},a.getMessagesDate=function(){return c.user_id2?d.get("/conv/chat/date_range/"+e+"/"+f+"/"+c.user_id2+"/",{}):d.get("/conv/chat/date_range/",{})},c.chatLoadingMore=!1,c.chatTitle="Loading...",a.getUserInfo().then(function(b){return c.chatTitle="Loading...",c.useridnum2=b.data.self.user_id,c.firstname2=b.data.self.f_name,"undefined"!=typeof b.data.mentor&&"undefined"!=typeof b.data.mentor.f_name?(c.otherPersonMentor=b.data.mentor.f_name,c.otherMentorPhoto=b.data.mentor.photo,c.mentorId2=b.data.mentor.user_id,c.otherPersonMentee=void 0,c.otherMenteePhoto=void 0,c.menteeId2=void 0,c.chatDefautTitle="Message with "+c.otherPersonMentor,console.log("$rootScope.mentorId "+c.mentorId2)):"undefined"!=typeof b.data.mentee&&"undefined"!=typeof b.data.mentee.f_name&&(console.log("2"),c.otherPersonMentee=b.data.mentee.f_name,c.otherMenteePhoto=b.data.mentee.photo,c.menteeId2=b.data.mentee.user_id,c.otherPersonMentor=void 0,c.otherMentorPhoto=void 0,c.mentorId2=void 0,c.chatDefautTitle="Message with "+c.otherPersonMentee,console.log("$rootScope.menteeId "+c.menteeId2)),a.getMessagesDate()}).then(function(a){console.log(a),q.messages&&(q.messages.length=0),q.messages&&q.messages.length>=0&&a.data.messages.length>0&&Array.prototype.push.apply(q.messages,a.data.messages),"Loading..."==c.chatTitle&&(c.chatTitle=c.chatDefautTitle),c.chatShowLoadMore=!1}).catch(function(a){"Loading..."==c.chatTitle&&(c.chatLoadMoreText="Reload",c.chatLoadingMore=!1,c.chatTitle="Load failed. Click reload below.")}))};var q=this;if(q.firstname=c.firstname2,q.isHidden=!1,q.messages=a.messages,q.username=c.mentorId2?c.mentorId2:c.menteeId2,q.myUserId=a.myUserId,q.inputPlaceholderText="Write your message here.",q.submitButtonText=a.submitButtonText,q.title=a.title,q.theme="chat-th-"+a.theme,q.writingMessage="",q.panelStyle={display:"block"},q.chatButtonClass="fa-angle-double-down icon_minim",c.markAsRead=!1,q.toggle=j,q.close=i,q.submitFunction=g,a.isSavingWork=!1,q.toggleLoadMore=function(a){c.showLoadMore=a},a.getPartnerInfo=function(){return d.get("/generic/partner_info/",{})},a.getUserInfo=function(){return d.get("/generic/user_info/",{})},a.getMessages=function(){return c.user_id2?d.get("/conv/chat/"+c.user_id2+"/",{}):d.get("/conv/chat/",{})},a.getFilextensions=function(){return d.get("/generic/file_extensions/",{})},a.getMessagesUnseen=function(){return d.get("/conv/unseen/",{})},a.getMessagesLimit=function(){return d.get("/conv/chat/limit/1/",{})},a.postMessage=function(b,e){return a.isSavingWork===!1?(a.isSavingWork=!0,e=c.mentorId2?c.mentorId2:c.menteeId2,c.user_id2?d.post("/conv/chat/live/"+c.user_id2+"/",{data:b,recipient_user_id:e}):d.post("/conv/chat/live/",{data:b,recipient_user_id:e})):void(a.isSaveWorkRequestPending=!0)},a.$watch("visible",function(){h(),b(function(){a.$chatInput.focus()},250)}),a.$watch("messages.length",function(){a.historyLoading||h(),a.expandOnNew&&q.isHidden&&j()}),c.isChatOpen=function(){return console.log("is hidden!"+q.isHidden),a.visible},c.getDataAutosaved=function(){},a.unseenCount=function(){var d=1e4;c.markAsRead=c.isChatOpen(),c.markAsRead||(a.getMessages().then(function(a){c.messageCount=a.data.unseen_count,d=a.data.other_online===!0?1e4:6e4}),b(a.unseenCount,d))},a.$watch("vm.writingMessage",function(a,b){}),q.scrollToBottom=function(){b(function(){a.$msgContainer.scrollTop(a.$msgContainer[0].scrollHeight)},200,!1)},c.openChat=function(){q.chatButtonClass="fa-angle-double-down icon_minim",q.panelStyle={display:"block"},q.isHidden=!1,c.markAsRead=!0,a.visible=!0},c.toggleChat=function(){q.isHidden?(q.chatButtonClass="fa-angle-double-down icon_minim",q.panelStyle={display:"block"},q.isHidden=!1,c.markAsRead=!0,a.visible=!0):(q.chatButtonClass="fa-expand icon_minim",q.panelStyle={display:"none"},q.isHidden=!0,c.markAsRead=!1,a.visible=!1)},n&&o&&p&&c.openChatAdmin(n,o,p),a.getFilextensions().then(function(b){a.allowTypes=b.data.join(),console.log(a.allowTypes)}),a.files=[],a.filesUpload=[],a.uploadProgress=!1,a.uploadButtonText="Upload File",a.dragClass="dragover",a.$watch("filesUpload",function(b){if(a.formUpload=!1,null!==b)for(var c=0;c<b.length;c++)a.errorMsg=null,function(a){a.result||k(a)}(b[c])}),angular.isDefined(a.response)&&angular.isDefined(a.response.response_url)&&a.response.response_url.length>0){var r={};r.name=l(a.response.response_url),r.savedname=r.name,r.progress=100,r.result={url:a.response.response_url,filename:r.name},a.filesUpload.push(r)}a.getUrl=function(a){return e.absUrl().indexOf(":"+e.port())!==-1?e.protocol()+"://"+e.host()+":"+e.port()+a:e.protocol()+"://"+e.host()+a},a.remove=function(b){var c=a.filesUpload.indexOf(b);if(c>-1){a.filesUpload.splice(c,1);var d={url:"",filename:""};a.save(d)}},a.abort=function(a){a.result="Aborted"},a.save=function(a){},a.setProgress=function(b){a.uploadProgress=b,a.uploadButtonText=b?"Uploading please wait":"Upload File"},a.validateType=function(b){var c=b.name.substr(b.name.lastIndexOf("."));return a.allowTypes.toLowerCase().indexOf(c.toLowerCase())!==-1||(alert("Unable to upload. Unsupported file type."),!1)}}angular.module("irontec.simpleChat",["cp.ng.fix-image-orientation"]),angular.module("irontec.simpleChat").config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","https://cdn.imentor.org/**"])}]),angular.module("irontec.simpleChat").directive("irontecSimpleChat",["$timeout",a]).filter("highlight",["$sce",function(a){return function(b,c){return c&&(b=b.replace(new RegExp("("+c+")","gi"),'<span class="highlighted">$1</span>')),a.trustAsHtml(b)}}]).factory("Data",["$resource",function(a){return a("/conv/unseen/",{},{query:{method:"GET",params:{},isArray:!0}})}]),b.$inject=["$scope","$timeout","$rootScope","$http","$location","Upload"]}();
//# sourceMappingURL=app.min.js.map