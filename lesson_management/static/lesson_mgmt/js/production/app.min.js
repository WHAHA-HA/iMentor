/*! imentor-lesson_mgmt - v0.0.1 - 2016-12-14 */function property(){function a(a){return a.split(".")}function b(a,b){var c=a;return _.forEach(b,function(a){c=c[a]}),c}return function(c,d,e){var f=a(d);return _.filter(c,function(a){return b(a,f)==e})}}var app=angular.module("lesson_mgmt",["ngResource","ui.bootstrap","ngHamburger","ngDialog","tasks","720kb.datepicker","ngRoute","isteven-multi-select"]);app.config(["$interpolateProvider","$resourceProvider",function(a,b){b.defaults.stripTrailingSlashes=!1,a.startSymbol("[["),a.endSymbol("]]")}]),app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"/new_platform/static/lesson_mgmt/nghtml/schedule.html",title:"Schedule"}).when("/scheduled",{templateUrl:"/new_platform/static/lesson_mgmt/nghtml/scheduled.html",title:"Scheduled"})}]),app.config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","https://cdn.imentor.org/**"])}]),app.controller("scheduledController",["$scope","$http","$location","$window","$rootScope",function(a,b,c,d,e){$("body").css({background:"url(/new_platform/static/lesson_mgmt/img/lesson_mgmt_04.png)no-repeat center center fixed"}),$("body").css({"background-size":"cover"}),$("#lesson-mgmt-body").css({"background-color":"transparent"})}]),app.controller("headerController",["$scope","$http","$location","$window","$rootScope",function(a,b,c,d,e){e.loadPartners=!1,e.scheduleDone=!1,e.scheduling=!1;var f=c.host(),g=f.split(".")[0];a.subdomain=g,a.hamburgerHover=function(){var a=document.getElementsByClassName("material-design-hamburger__layer"),b=angular.element(a);b.css("background","gray")},a.HamburgerUnhover=function(){var a=document.getElementsByClassName("material-design-hamburger__layer"),b=angular.element(a);b.css("background","white")},a.logout=function(){var a="//"+d.location.host+"/iuser/logout/";d.location.href=a},b({method:"GET",url:"/generic/user_info/"}).then(function(a,b,c,d){return e.firstname=a.data.self.f_name,e.lastname=a.data.self.l_name,e.useridnum=a.data.self.user_id,e.userrole=a.data.self.role,e.persona=a.data.self.persona_id,a.data},function(a){return console.log(a),a}),a.isOnPartnerListTableau=function(){var b=c.host(),d=b.split(".")[0];a.subdomain=d,console.log("ch: "+d);var e=["nyc","bayarea","platformtraining","chicago","mentor2","bbbscil","bbbs-cnm","bbbscharlotte","bbbsc","bbbspgh","bbbstx","bbbsmilwaukee","bbbsu","bbbswillgrundy","tennesseebig","tucsonbigs","bbbsmb","bbbsmiami","127"],f=e.indexOf(d);-1!==f?a.isOnPartnerListTableau=!0:a.isOnPartnerListTableau=!1},a.isOnPartnerListTableau();var h={bayarea:"/dw_reports/S_T_E_V_E_BAY/ProgramManagerSummary/",nyc:"/dw_reports/S_T_E_V_E_NYC/ProgramManagerSummary/",platformtraining:"/dw_reports/S_T_E_V_E_NYC/ProgramManagerSummary/",chicago:"/dw_reports/S_T_E_V_E__CHI/ProgramManagerSummary/",mentor2:"/dw_reports/ProgramEngagement-BigBend/Summary/",bbbscil:"/dw_reports/ProgramEngagement-CentralIllinois/Summary/","bbbs-cnm":"/dw_reports/ProgramEngagement-CentralNewMexico/Summary/",bbbscharlotte:"/dw_reports/ProgramEngagement-Charlotte/Summary/",bbbsc:"/dw_reports/ProgramEngagement-Colorado/Summary/",bbbspgh:"/dw_reports/ProgramEngagement-GreaterPittsburgh/Summary/",bbbstx:"/dw_reports/ProgramEngagement-LoneStar/Summary/",bbbsmilwaukee:"/dw_reports/ProgramEngagement-Milwaukee/Summary/",bbbsu:"/dw_reports/ProgramEngagement-Utah/Summary/",bbbswillgrundy:"/dw_reports/ProgramEngagement-WillandGrundy/Summary/",tennesseebig:"/dw_reports/ProgramEngagement-Tennessee/Summary/?:iid=9",tucsonbigs:"/dw_reports/ProgramEngagement-Tucson/Summary/?:iid=10",bbbsmb:"/dw_reports/ProgramEngagement-MassBay/Summary/?:iid=11",bbbsmiami:"/dw_reports/ProgramEngagement-Miami/Summary/",127:"/dw_reports/ProgramEngagement-BigBend/Summary/"};a.getProgramParticipationUrlAll=function(a){var d=c.protocol()+"://"+c.host()+a;return b.get(d,{})},a.getProgramParticipation=function(b){console.log(b),console.log("subdomain add"+h[b]);var c=h[b];c&&a.getProgramParticipationUrlAll(c).then(function(b){a.programUrl=b.data.standard_url})},a.getProgramParticipation(a.subdomain)}]),app.controller("MainCtrl",["$scope","$http","$location","$rootScope","$timeout",function(a,b,c,d,e){$("#lesson-mgmt-body").css({"background-color":"white"}),a.showbanner=!1,a.loaded=!1,a.selectedGrade="",a.selectedUnit="",a.selectedLesson="",a.selectedPartner="",a.selectedPartnerSites=[],a.partnerSitesLang={selectAll:"Choose all",selectNone:"Choose none",reset:"Reset choice",search:"Search...",nothingSelected:"Choose a class"},a.lesson=new Date,a.deleteText="",d.loadPartners=!1,d.scheduleDone=!1,a.updateGrade=function(b){return a.newGrade=b,b},a.updateUnit=function(a){},a.updateLesson=function(a){},a.geContent=function(){a.selectedLessonId=void 0,a.selectedLesson=void 0,""!=a.selectedPartner?b.post("/canvas/get_assigned_lessons/",{partner_id:a.selectedPartner.id}).success(function(b,c,d,e){console.log(b),a.scheduledLessons=b}).error(function(a,b,c,d){console.log("Error scheduling lessson")}):a.scheduledLessons=[]},a.updatePartner=function(){a.selectedPartner=0===a.selectedPartnerSites.length?"":a.selectedPartnerSites[0],a.geContent()},a.resetPartner=function(){a.selectedPartnerSites=[],a.selectedPartner="",a.geContent()},a.updateLessonSelection=function(b){a.showDelete=!1,b.curriculum_id===a.selectedLessonId?(a.selectedLessonId=void 0,a.selectedLesson=void 0):(a.selectedLessonId=b.curriculum_id,a.selectedLesson=b)},a.toggled=function(b){a.showDelete=!1,a.deleteText=""},a.showDeleteBox=function(){e(function(){a.showDelete=!0},300)},a.confirmDelete=function(){"delete"===a.deleteText&&(a.deleteLesson(),a.showDelete=!1)},a.cancelDelete=function(){a.showDelete=!1},a.deleteLesson=function(){a.selectedLesson.partner_id,a.selectedLesson.curriculum_id,a.selectedLesson.session_id;b.post("/canvas/delete_lessons/",{partner_id:a.selectedLesson.partner_id,curriculum_id:a.selectedLesson.curriculum_id,session_id:a.selectedLesson.session_id}).success(function(b,c,d,e){console.log(b),a.showDelete=!1,a.geContent()}).error(function(b,c,d,e){console.log("Error deleting lessson"),a.showDelete=!1})},a.mytime=new Date,a.hstep=1,a.mstep=1,a.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},a.ismeridian=!0,a.toggleMode=function(){a.ismeridian=!a.ismeridian},a.updateHours=function(){},a.update=function(){var b=new Date;b.setHours(14),b.setMinutes(0),a.mytime=b},a.changed=function(a){var b=angular.element(document.querySelectorAll(".form-group input"));b.attr("type","number")},a.clear=function(){a.mytime=null},a.loadPartnerSites=function(){return b.get("/generic/partner_info/",{})},a.loadCurriculum=function(){return b.get("/canvas/curricula/",{})},a.loadPartnerSites().then(function(b){return a.classes=b.data,a.loadCurriculum()}).then(function(b){a.curriculum=b.data,a.loaded=!0,d.loadPartners=!0})["catch"](function(a){console.log("Error occurred")}),a.scheduleAnother=function(){c.path("/")},a.scheduleLesson=function(){var e=[];d.scheduling=!0;var f=a.lesson.sch_date.split("/")[0],g=a.lesson.sch_date.split("/")[1],h=a.lesson.sch_date.split("/")[2],i=a.mytime.getHours(),j=a.mytime.getMinutes();e.push(a.selectedPartner.id),b.post("/canvas/assign_lessons/",{start_year:parseInt(h),start_month:parseInt(f),start_day:parseInt(g),start_hour:i,start_min:j,curriculum_id:a.selectedLesson,partner_ids:e}).success(function(a,b,e,f){d.scheduling=!1,d.scheduleDone=!0,c.path("/scheduled"),0==a.success&&alert("Please contact iMentor Platform Support\nto investigate a scheduling error for this lesson.")}).error(function(a,b,c,d){console.log("Error scheduling lessson")})}}]),app.filter("unique",function(){return function(a,b){if(b===!1)return a;if((b||angular.isUndefined(b))&&angular.isArray(a)){var c=[],d=function(a){if(angular.isObject(a)&&angular.isString(b)){var c=function(a,b){if("undefined"==typeof a)return a;var d=b.split("."),e=d[0];return b=b.replace(e+".",""),d.length>1?c(a[e],b):a[e]};return c(a,b)}return a};angular.forEach(a,function(a){for(var b=!1,e=0;e<c.length;e++)if(angular.equals(d(c[e]),d(a))){b=!0;break}b||"undefined"!=typeof a&&c.push(a)}),a=c}return a}}),app.directive("bDatepicker",function(){return{restrict:"A",link:function(a,b,c){b.datepicker({});var d=b.siblings('[data-toggle="datepicker"]');d.length&&d.on("click",function(){b.trigger("focus")})}}}),app.filter("property",property);;
var app=angular.module("tasks",["ngDialog","ui.mask"]);app.config(["$sceDelegateProvider",function(a){a.resourceUrlWhitelist(["self","https://cdn.imentor.org/**"])}]),app.directive("multiSelectDate",["$filter",function(a){return{restrict:"E",require:"?ngModel",templateUrl:"multiSelectDate",link:function(b,c,d,e){if(e){e.$render=function(){isNaN(Date.parse(e.$viewValue))?b.date={day:"",month:"",year:""}:b.date={day:a("date")(e.$viewValue,"dd"),month:a("date")(e.$viewValue,"MM"),year:a("date")(e.$viewValue,"yyyy")}},b.yearOrder=!d.yearOrder||"asc"!==d.yearOrder;var f=d.endYear||(new Date).getFullYear(),g=d.startYear||g-20;b.selects={days:function(){for(var a=new Date(b.date.year,b.date.month,0).getDate()||31,c=[],d=1;a>=d;d++){var e=d.toString();c.push(e.length<2?"0"+e:e)}return c},months:function(){for(var a=[],b=1;12>=b;b++){var c=b.toString();a.push(c.length<2?"0"+c:c)}return a},years:function(){for(var a=[],b=f;b>=g;b--)a.push(b.toString());return a}},b.$watch("date",function(a){if(d.required){var b=!!a.year&&parseInt(a.year)<=f&&parseInt(a.year)>=g,c=!!a.month,h=!!a.day;console.log(b,c,h),e.$setValidity("required",!!(b||c||h)),e.$setValidity("yearRequired",!!b),e.$setValidity("monthRequired",!!c),e.$setValidity("dayRequired",!!h),b&&c&&h&&e.$setViewValue(new Date(a.year,a.month-1,a.day))}else a.year&&a.month&&a.day?e.$setViewValue(new Date(a.year,a.month-1,a.day)):a.year&&a.month&&a.day&&e.$setViewValue(new Date(a.year,a.month-1,a.day))},!0)}}}}]),app.controller("TasksCtrl",["$scope","$rootScope","ngDialog","$http","$location","$window","$sce",function(a,b,c,d,e,f,g){a.init=function(){var b=e.host();b.split(".")[0];a.getAllTasks()},a.getAnnouncementInfo=function(){return d.get("/tasks/announcements/",{})},a.getRatingInfo=function(){return d.get("/tasks/ratings/",{})},a.getSurveyInfo=function(){return d.get("/new_surveys/survey_link/",{})},a.getEventsInfo=function(){return d.post("/tasks/events/",{})},a.getPersonValidateInfo=function(){return d.get("/tasks/info_update/",{})},a.getPersonValidateInfo().then(function(b){console.log("data.data.length"+b.data),a.personalInfo=b.data,a.phoneNum=a.personalInfo.cell_phone,a.emailAdd=a.personalInfo.email,a.infoId=a.personalInfo.info_update_id,isNaN(Date.parse(a.personalInfo.date_of_birth))?a.dateOfBirth=null:a.dateOfBirth=new Date(a.personalInfo.date_of_birth),console.log(a.dateOfBirth),a.newDataAvail=!1;for(var c in b.data)b.data.hasOwnProperty(c)?(console.log(c),a.newDataAvail=!0):a.newDataAvail=!1;console.log("newData"+a.newDataAvail)}),a.getAllTasks=function(){var c=e.host(),d=(c.split(".")[0],!1);return a.getPersonValidateInfo().then(function(c){console.log("data.data.length"+c.data),a.personalInfo=c.data,a.phoneNum=a.personalInfo.cell_phone,a.infoId=a.personalInfo.info_update_id,isNaN(Date.parse(a.personalInfo.date_of_birth))?a.dateOfBirth=null:a.dateOfBirth=new Date(a.personalInfo.date_of_birth),a.newDataAvail=!1;for(var e in c.data)c.data.hasOwnProperty(e)?(console.log(e),a.newDataAvail=!0):a.newDataAvail=!1;return b.showValidateInfo=1==a.newDataAvail,console.log("$rootScope.showValidateInfo"+b.showValidateInfo),console.log("newData"+a.newDataAvail),a.getAnnouncementInfo().then(function(c){console.log("ANNOUncement!!"+c.data);var d=!1;for(var e in c.data)c.data.hasOwnProperty(e)?(console.log(e),d=!0):d=!1;if(1==d){b.showAnnouncement=!0,b.announcement_description=c.data.announcement_description,b.announcement_content=c.data.announcement_html;var f=angular.element("<div>"+b.announcement_content+"</div>");f.find("iframe").wrap("<div class='announcement-embed'></div>");var h="<div class='announcement-embed-notloaded' ng-if='notLoaded' style='padding: 0px 10px 0px 10px;'><h2><i class='fa fa-frown-o'></i> We couldn't load this content.</h2>It's likely due to a security restriction on your computer for content from external sources such as Google, Vimeo, and YouTube.<p><p>However, you have several options:<ul><li>First, if you're on a work or school computer, you could ask the technology team there about the possibility of relaxing these restrictions.</li><li>Second, if you have a mobile device with a cellular connection, you could access the Canvas and its content from there.</li><li>Finally, if you have a home computer, you could access the Canvas and its content from there as well.</li></ul></p></p>Please feel free to contact your staff member with any questions.<p></div>";f.find(".announcement-embed").append(h),b.announcement_html=g.trustAsHtml(f.html()),b.announcement_id=c.data.id,console.log("$scope.showAnnouncements"+b.showAnnouncement)}return a.getRatingInfo()}).then(function(c){return b.showRating=c.data.show,console.log("$scope.showRating"+a.showRating),a.getSurveyInfo()}).then(function(c){return 1==c.data.success&&(console.log("data.data.success "+c.data.success),b.showSurvey=!0,b.surveyName=c.data.description,b.surveyLink=c.data.link),1!=b.showSurvey&&1!=b.showRating&&1!=b.showAnnouncement&&1!=b.showValidateInfo||(d=!0),a.getEventsInfo()}).then(function(c){a.events=c.data,console.log("event length: "+a.events.length),a.events.length>0&&(b.showEvents=!0),a.events.length>0&&!b.showSurvey&&!b.showRating&&!b.showAnnouncement?(d=!0,b.showEvents=!0,1!=b.showSurvey&&1!=b.showRating&&1!=b.showEvents&&1!=b.showAnnouncement&&1!=b.showValidateInfo||(d=!0)):1!=b.showSurvey&&1!=b.showRating&&1!=b.showEvents&&1!=b.showAnnouncement&&1!=b.showValidateInfo||(d=!0),d===!0&&a.openSurvey()})["catch"](function(b){console.log("Error occurred"),d===!0&&a.openSurvey()})})};var h,i=!1;a.openSurvey=function(){h=c.open({template:"/new_platform/static/tasks/nghtml/tasksmodal.html",controller:["$scope","$document","$timeout",function(a,e,g){function h(c,d){console.log(c+" : : "+d),c===!1&&2>m?(m++,g(function(){urlAccessibleCheck(d,h)},500)):(a.notLoaded=!c,a.notLoaded===!0&&a.postNoload({content_url:a.iframeUrl,content_type_id:l,product_record_id:b.announcement_id,product_type_id:2}))}function j(c){if(!c){console.log("fileExistsCheck failed.");var d=e[0].getElementById(b.taskDialogId),f=angular.element(d),g=f.find("iframe"),h=a.iframeUrl;g[0].src=h}}a.taskCounter=0;var k=[];a.closeSurvey=function(){b.showSurvey=!1,console.log("$rootScope.showRating"+b.showSurvey),0!=b.showRating&&b.showRating||c.close()},a.goToSurvey=function(){f.open(b.surveyLink,"_blank")},a.closeRating=function(){b.showSurvey=!1,console.log("$rootScope.showRating"+b.showRating),0==b.showRating&&c.close()},d.get("/tasks/ratings/").success(function(b){console.log(b),a.rating=b.rating,a.ratingName=b.name}),d.post("/tasks/events/",{}).success(function(c){console.log(c),c.length>0&&(a.events=c,b.eventsLength=c.length,a.evtCounter=0)}),a.selectRating=function(e){a.newRating=e,d.post("/tasks/ratings/",{rating:e}).success(function(a,d,e,f){console.log(a),b.showRating=!1,0!=b.showSurvey&&b.showSurvey||1==b.showRating||1==b.showEvents||1==b.showAnnouncement||1==b.showValidateInfo||c.close()}).error(function(a,b,c,d){console.log("error updating rating")})},a.closeThisTask=function(a){0==a&&(b.showAnnouncement=!1),1==a?b.showSurvey=!1:2==a?b.showRating=!1:3==a?b.showEvents=!1:4==a&&(b.showValidateInfo=!1),0!=b.showSurvey&&b.showSurvey||1==b.showRating||1==b.showEvents||1==b.showAnnouncement||1==b.showValidateInfo||c.close()},a.rsvp=function(a,e){k.indexOf(e)<0&&k.push(e),d.post("/tasks/rsvp/",{rsvp_id:e,rsvp_selection:a}).success(function(a,d,e,f){b.eventsLength<2?(b.showEvents=!1,1!=b.showSurvey&&1!=b.showRating&&1!=b.showEvents&&1!=b.showAnnouncement&&1!=b.showValidateInfo&&c.close()):k.length===b.eventsLength&&(b.showEvents=!1,1!=b.showSurvey&&1!=b.showRating&&1!=b.showEvents&&1!=b.showAnnouncement&&1!=b.showValidateInfo&&c.close())}).error(function(a,b,c,d){console.log("error updating rating")})},a.updatePersonalInfo=function(e,f,g,h){console.log("phoneNum"+e);var i=!1,j=!1,k=!1;if(void 0==f&&(a.emailError="Ensure you enter a valid email."),void 0==e&&(a.phoneNumError="Ensure your cell phone has 10 digits."),void 0!=f&&(f.indexOf(".")<0&&f.indexOf("@")<0?a.emailError="Ensure your email contains the @ symbol and at least one period.":f.indexOf(".")<0?a.emailError="Ensure your email contains at least one period.":f.indexOf("@")<0?a.emailError="Ensure your email contains the @ symbol.":f.indexOf(".")>=0&&f.indexOf("@")>=0&&(a.emailError="",i=!0)),void 0!=e&&(e.startsWith("1")?(console.log(e+"phone starts with 1"),a.phoneNumError="Ensure your cell phone does not begin with 1."):e.length>1&&e.length<10?a.phoneNumError="Ensure your cell phone has 10 digits.":e.startsWith("1")||(a.phoneNumError="",j=!0)),"Mentee"==b.userrole)if(void 0!=g){var l=g.getMonth()+1+"/"+g.getDate()+"/"+g.getFullYear();console.log("thenewdate"+l),a.dateError="",k=!0}else a.dateError="Ensure you enter a valid date of birth in MM/DD/YYYY format.";1==j&&1==i&&(console.log("All GOOD! POST"),"Mentor"==b.userrole?d.post("/tasks/info_update/",{info_update_id:h,cell_phone:e,email:f}).success(function(d,e,f,g){console.log(d),1==d.existing_email?(b.showValidateInfo=!0,a.emailError="This email is already taken. Please enter another email."):(b.showValidateInfo=!1,1!=b.showSurvey&&1!=b.showRating&&1!=b.showEvents&&1!=b.showAnnouncement&&1!=b.showValidateInfo&&c.close())}).error(function(a,b,c,d){console.log("error updating rating")}):1==k&&d.post("/tasks/info_update/",{info_update_id:h,cell_phone:e,email:f,date_of_birth:l}).success(function(d,e,f,g){console.log(d),1==d.existing_email?(b.showValidateInfo=!0,a.emailError="This email is already taken. Please enter another email."):(b.showValidateInfo=!1,1!=b.showSurvey&&1!=b.showRating&&1!=b.showEvents&&1!=b.showAnnouncement&&1!=b.showValidateInfo&&c.close())}).error(function(a,b,c,d){console.log("error updating rating")}))},a.updateAnnouncement=function(a){d.post("/tasks/announcements/",{announcement_id:a}).success(function(a,b,c,d){console.log("announcement update success"+a)}).error(function(a,b,c,d){console.log("error updating announcement")})},a.postNoload=function(a){i===!1&&(i=!0,d({method:"POST",url:"/generic/noload/",data:JSON.stringify(a)}).then(function(a,b,c,d){console.log("postNoload success")},function(a){return logger("postNoload Failed - Network Error",a),a}))};var l=0,m=0;if(b.announcement_content){var n=angular.element("<div>"+b.announcement_content+"</div>"),o=n.find("iframe");o.length>0&&(a.iframeUrl=o[0].src)}if(b.announcement_content&&b.announcement_content.indexOf("Google content")>0){var n=angular.element("<div>"+b.announcement_content+"</div>"),o=n.find("iframe");o.length>0&&(a.iframeUrl=o[0].src,-1===a.iframeUrl.indexOf("/presentation/")&&(l=1,fileExistsCheck(a.iframeUrl,j)),g(function(){l=1,urlAccessibleCheck("https://docs.google.com/uc?authuser=0&id=0B3_AxqV1Xh-PTU1JdmdnLWtBQU0&export=download",h)},1e3))}else b.announcement_content&&b.announcement_content.indexOf("YouTube content")>0?(console.log("https://youtube.com"),g(function(){l=3,urlAccessibleCheck("https://www.youtube.com/player_api",h)},1e3)):b.announcement_content&&b.announcement_content.indexOf("player.vimeo.com")>0?(console.log("https://vimeo.com"),g(function(){l=2,urlAccessibleCheck("https://f.vimeocdn.com/js/froogaloop2.min.js",h)},1e3)):b.announcement_content&&b.announcement_content.indexOf("SoundCloud content")>0&&(console.log("https://SoundCloud.com"),g(function(){l=4,urlAccessibleCheck("https://connect.soundcloud.com/sdk/sdk-3.0.0.js",h)},1e3))}],className:"ngdialog-theme-plain",showClose:!1,keyboard:!1,closeByEscape:!1}),b.taskDialogId=h.id}}]),app.filter("range",function(){return function(a,b){b=parseInt(b);for(var c=0;b>=c;c++)a.push(c);return a}}),app.directive("bindHtmlCompile",["$compile",function(a){return{restrict:"A",link:function(b,c,d){b.$watch(function(){return b.$eval(d.bindHtmlCompile)},function(e){c.html(e&&e.toString());var f=b;d.bindHtmlScope&&(f=b.$eval(d.bindHtmlScope)),a(c.contents())(f)})}}}]);;
angular.module("lesson_mgmt").run(["$templateCache",function(a){"use strict";a.put("/new_platform/static/lesson_mgmt/nghtml/header-bar.html",'<!-- NAVIGATION -->\n<div ng-controller="headerController">\n    <div class="navbar navbar-default" role="navigation" style="position: fixed;top: 0px;">\n        <div class="container-fluid">\n            <div class="navbar-header" style="font-weight: 400;color:white;">\n                <hamburger-toggle ng-mouseover="hamburgerHover()" ng-mouseleave="HamburgerUnhover()" ng-click="toggleState()" style="cursor: pointer;" state="tgState" class="hamburger-toggle"></hamburger-toggle>\n                <span class="navbar-brand" style="color:white">Lesson Management</span>\n                <div style="display: inline-block;position: relative;top: 8px;left:10px;color:white;">\n                    <span style="margin-left: -10px;" ng-if="loadPartners == false">Loading...</span>\n                    <span style="margin-left: -10px;" ng-if="scheduling">Scheduling...</span>\n                    <span style="margin-left: -10px;" ng-if="scheduleDone">Just scheduled.</span>\n                </div>\n                <div class="notifications">\n                    <span ng-if="userrole === \'Mentor\' || userrole === \'Mentee\'" class="username">[[firstname]] [[lastname.split(\'\')[0] ]]</span>\n                    <span ng-if="userrole !== \'Mentor\' && userrole !== \'Mentee\'" class="username">[[firstname]] [[lastname.split(\'\')[0] ]]</span>\n                    <!--<i class="glyphicon glyphicon-comment"></i>--></div>\n            </div>\n        </div>\n    </div>\n\n<div class="sidenav" ng-class="{open: tgState}" ng-init="Administration = false; Reports = false;" style="font-size:14px;font-weight: 400;">\n  <ul ng-if="userrole === \'Mentor\' || userrole === \'Mentee\'" class="nav nav-pills nav-stacked">\n    <li ui-sref-active="active"><a href="/canvas/#/">Current Lesson</a></li>\n    <li ui-sref-active="active"><a href="/portfolio/#/">Portfolio</a></li>\n    <li ng-if="(match_status === \'M\' && userrole === \'Mentor\') || userrole === \'Mentee\'" ui-sref-active="active"><a href="/cchklist/list/#/">College Checklist</a></li>\n    <li><a href="/events/personal/">Calendar</a></li>\n    <!--<li><a href="/iuser/myinfo/{{persona}}/" >Profile</a></li>-->\n    <!--<li ng-show="userrole === \'Mentee\'"><a href="https://learn.imentor.org/help/article/link/imentor-curriculum">Resources</a></li>-->\n    <li ng-show="userrole !== \'Mentee\'"><a href="https://learn.imentor.org/help/article/link/home" target="_blank">Learning Center</a></li>\n    <li><a href="/message/list/">Legacy Platform</a></li>\n    <li ui-sref-active="active"><a href="https://imentor.org/privacy-policy">iMentor Privacy Policy</a></li>\n    <li ui-sref-active="active"><a  href="" ng-click="logout();">Sign out</a></li>\n  </ul>\n  <ul ng-if="userrole !== \'Mentor\' && userrole !== \'Mentee\'" class="nav nav-pills nav-stacked">\n    <li ui-sref-active="active"><a href="/canvas/#/">Current Lesson</a></li>\n    <li ui-sref-active="active"><a href="/portfolio/#/">Portfolio</a></li>\n    <li ui-sref-active="active"><a href="/lesson_mgmt/#/">Lesson Management</a></li>\n    <li><a href="/events/admin/">Calendar</a></li>\n    <li><a href="/message/list/note/">Add a Note</a></li>\n    <!--<li><a href="/iuser/backend_profile/{{persona}}/" >Profile</a></li>-->\n    <li><a ng-click="Administration = !Administration" style="cursor:pointer"><span class="fa fa-caret-down" style="position: relative;top: 3px;margin-right: 3px;font-size: 14px;"></span> Administration </a></li>\n    <ul ng-show="Administration === true" class="submenu">\n      <li><a href="/iuser/" >Users</a></li>\n      <li><a href="/partners/list/">Partner Sites</a></li>\n      <li><a href="/attendance/">Attendance</a></li>\n      <!--<li><a href="/survey/">Surveys</a></li>-->\n      <li><a href="/new_surveys/">Surveys</a></li>\n      <li ng-show="subdomain != \'mentor2\' && subdomain != \'bbsu\' && subdomain != \'bbbscharlotte\' && subdomain != \'bbbsmilwaukee\' && subdomain != \'bbbswillgrundy\'"><a href="/enrollment/">Mentee Enrollment</a></li>\n      <li ng-show="subdomain === \'platformtraining\'"><a href="/mentor_rubric/">Mentor Rubric</a></li>\n      <!--<li><a href="/reporting/manage_alerts/">Alerts</a></li>-->\n    </ul>\n    <li><a ng-click="Reports = !Reports" style="cursor:pointer"><span class="fa fa-caret-down" style="position: relative;top: 3px;margin-right: 7px;font-size: 14px;"></span>Reports</a></li>\n    <ul ng-show="Reports === true" class="submenu">\n      <li><a href="/snapshot/">Snapshot</a></li>\n        <li ng-show="isOnPartnerListTableau && (subdomain == \'nyc\' || subdomain == \'chicago\' || subdomain == \'bayarea\' || subdomain == \'127\')"><a ng-href="[[programUrl]]" target="_blank" style="cursor: pointer;" ng-click="getProgramParticipation([[subdomain]]);">S.T.E.V.E.</a></li>\n        <li ng-show="isOnPartnerListTableau && (subdomain != \'nyc\' && subdomain != \'chicago\' && subdomain != \'bayarea\' && subdomain != \'127\') && userrole != \'Partner Admin\'"><a ng-href="[[programUrl]]" target="_blank" style="cursor: pointer;" ng-click="getProgramParticipation([[subdomain]]);">Participation History</a></li>\n        <li><a href="/flipbook/">Flipbook</a></li>\n      <li><a href="/reporting/intake_application_tracker/">Intake App Tracker</a></li>\n      <li><a href="/iuser/screening_tracker/">Screening Tracker</a></li>\n      <!--<li><a href="/reporting/participation_tracker/">MPT</a></li>-->\n      <!--<li><a href="/reporting/email_tracker/">Email Tracker</a></li>-->\n      <!--<li><a href="/reporting/email_log/">Email Log</a></li>-->\n      <li><a href="/reporting/event_tracker/">Event Tracker</a></li>\n      <li><a href="/reporting/event_log/">Event Log</a></li>\n      <!--<li><a href="/ratings/tracker/pairs/2/">Ratings Tracker</a></li>-->\n      <li><a href="/notes/support_tracker_pair/">Support Tracker</a></li>\n      <li><a href="/notes/note_log/">Note Log</a></li>\n    </ul>\n    <li><a href="https://learn.imentor.org/" target="_blank">Learning Center</a></li>\n    <li><a href="/message/list/">Legacy Platform</a></li>\n    <li ui-sref-active="active"><a href="https://imentor.org/privacy-policy">iMentor Privacy Policy</a></li>\n    <li ui-sref-active="active"><a href="" ng-click="logout();">Sign out</a></li>\n  </ul>\n</div>\n</div>\n'),a.put("/new_platform/static/lesson_mgmt/nghtml/schedule.html",'<div ng-controller="MainCtrl">\n<h2 class="admin-heading">Manage your lessons</h2>\n    <p class="questions"> Which group of students is this lesson for?</p>\n\n      <div\n        isteven-multi-select\n        input-model="classes"\n        output-model="selectedPartnerSites"\n        button-label="name"\n        item-label="name"\n        tick-property="ticked"\n        class="partner-sites"\n        max-height="200px"\n        max-labels="1"\n        on-item-click="updatePartner()"\n        on-select-all="updatePartner()"\n        on-select-none="resetPartner()"\n        on-reset="resetPartner()"\n        translation="partnerSitesLang"\n        selection-mode="single"\n        ></div>\n\n    <div class="margin-20"></div>\n\n    <p ng-if="selectedPartner && scheduledLessons.length > 0"class="questions">Below are all lessons scheduled for [[selectedPartner.name]]</p>\n    <table ng-if="selectedPartner && scheduledLessons.length > 0" class="tableChrt" style="width: 700px;">\n        <tr class="table-header table-header-top">\n            <th colspan=\'12\' class="text-bottom manage-col text-center ">\n                <span dropdown on-toggle="toggled(open)" class="pull-left dropdown"\n                >\n                  <a href dropdown-toggle style="" ng-class="{\'disabled\': !selectedLessonId}">\n                      Manage <i class="fa fa-wrench"></i>\n                  </a>\n                <ul class="enrollment-dropdown dropdown-menu" aria-labelledby="simple-dropdown"  ng-show="selectedLesson">\n                    <li ng-hide="showDelete === true">\n\n                        <a href class="" ng-click="showDeleteBox()">\n                            Delete this lesson\n                        </a>\n\n                    </li>\n                </ul>\n                </span>\n                <div ng-show="showDelete === true" class="lessonDeleteConfirmBox">\n                    <p>Enter the word "delete" as a confirmation:<br/>\n                        <input type="text"  ng-model="$parent.deleteText" class="deleteInput"/><br/>\n                        <a  href ng-click="cancelDelete()" style="">Cancel</a>\n                        <a  href ng-click="confirmDelete()" style="">Confirm</a>\n                    </p>\n                </div>\n            </th>\n        </tr>\n        <tr>\n            <th class="tblHeader tblHeader1"><span class="glyphicon glyphicon-ok" style="margin-right: 5px;float: left;"></span></th>\n            <th class="tblHeader">Start</th>\n            <th class="tblHeader">End</th>\n            <th class="tblHeader2">Lesson</th>\n        </tr>\n        </table>\n    <div class="tableContainer" ng-if="selectedPartner && scheduledLessons.length > 0">\n        <table class=" table table-striped tableChrt" style="width: 700px;">\n\n        <tr ng-repeat="lesson in scheduledLessons"  ng-class="{\'selected\': selectedLessonId == lesson.curriculum_id}">\n            <td class="text-center tblCell tblCell1"  ng-click="updateLessonSelection(lesson)"\n             >\n                <span class="fa fa-flag flag-ok"  ng-class="{\'selected\': selectedLessonId == lesson.curriculum_id, \'unselected\': selectedLessonId != lesson.curriculum_id ,\' fa fa-check-square-o\': selectedLessonId == lesson.curriculum_id, \'fa fa-square-o\':selectedLessonId == lesson.curriculum_id != true}" />\n\n\n            </td>\n\n\n            <td class="tblCell tblCell2">[[lesson.lesson_start_string]]</td>\n            <td class="tblCell tblCell2">[[lesson.lesson_end_string]]</td>\n            <td class="tblCell tblCell3">[[lesson.lesson_description]] ([[lesson.grade_number]].[[lesson.unit_number]].[[lesson.lesson_number]]) </td>\n        </tr>\n    </table>\n        </div>\n    <div ng-if="scheduledLessons.length < 1 && selectedPartner">\n        <p style="padding: 10px;\n    background-color: #EEEEEE;\n    color: gray;\n    width: 565px;">You haven’t scheduled any lessons yet for [[selectedPartner.name]].</p>\n    </div>\n\n    <div class="margin-20"></div>\n\n<p class="questions"> Choose a lesson to schedule</p>\n<div>\n    <select ng-model="selectedGrade"\n            ng-options="item.grade.grade_number as item.grade.description + \' (\' + item.grade.grade_number + \')\' for item in curriculum | unique:\'grade.grade_number\' | orderBy:[\'grade.grade_number\', \'grade.description\']"\n            ng-change="updateGrade(selectedGrade)"\n            >\n        <option value="">Grade</option>\n    </select>\n\n\n    <!--ng-options="item as item.unit.description for item in curriculum"-->\n    <select ng-show="selectedGrade"\n            ng-model="selectedUnit"\n            ng-options="item.unit.id as item.unit.description + \' (\' + item.unit.unit_number + \')\' for item in curriculum | property:\'grade.grade_number\':selectedGrade | unique: \'unit.description\' | orderBy:[\'unit.unit_number\',\'unit.description\' ]"\n            ng-change="updateUnit(selectedUnit)"\n            >\n        <option value="">Unit</option>\n    </select>\n\n\n    <select ng-show="selectedUnit"\n            ng-model="selectedLesson"\n            ng-options="item.id as item.description + \' (\' + item.curriculum_number + \')\' for item in curriculum | filter:selectedGrade | property:\'unit.id\':selectedUnit | property:\'grade.grade_number\':selectedGrade | orderBy:[\'curriculum_number\', \'description\']"\n            ng-change="updateLesson(selectedLesson)"\n            >\n        <option value="">Lesson</option>\n    </select>\n</div>\n\n<div class="margin-20"></div>\n\n<p class="questions">Choose when the lesson will begin</p>\n<div style="position: relative;top: -25px;">\n    <div id="date-pick" class="datepicker" date-set="[[today | date:\'MM/dd/yy\']]" date-format="MM/dd/yy" date-min-limit="[[minDate | date:\'MM/dd/yy\']]" date-max-limit="[[maxDate | date:\'yyyy/MM/dd\']]" button-prev="<i class=\'fa fa-arrow-left\'></i>" button-next="<i class=\'fa fa-arrow-right\'></i>">\n        <input style="padding:7px;color: #737373;" ng-model="lesson.sch_date" id="date-pick2" type="text" placeholder="MM/DD/YY" class="app-deadline" ng-change="updateCollege(lesson)" readonly/>\n    </div>\n\n    <timepicker class="c_timepicker" ng-model="mytime" ng-change="changed(mytime)" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></timepicker>\n</div>\n    <button ng-hide="scheduling" ng-disabled="!selectedGrade || !selectedUnit || !selectedLesson || !selectedPartner || !lesson.sch_date || scheduling" ng-click="scheduleLesson()" class="btn-primary">Schedule the lesson</button>\n    <button ng-hide="!scheduling" ng-disabled="!selectedGrade || !selectedUnit || !selectedLesson || !selectedPartner || !lesson.sch_date || scheduling" class="btn-primary">Scheduling...</button>\n</div>\n<div class="margin-30"></div>\n<div class="margin-30"></div>\n\n'),a.put("/new_platform/static/lesson_mgmt/nghtml/scheduled.html",'<div ng-controller="scheduledController">\n    <div class="translucentBkg">\n    <h2>Congrats!</h2>\n    <h2>You scheduled your lesson.</h2>\n    <div class="margin-40"></div>\n    <div style="display: block;margin: 0 auto;text-align: center;"><button class="btn-primary" ng-click="scheduleAnother()">Manage your lessons</button></div>\n    </div>\n</div>')}]);
//# sourceMappingURL=app.min.js.map