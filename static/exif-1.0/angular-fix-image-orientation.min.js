!function(r,e){"use strict";function a(){function r(r,s,n){var i=r.imgFixOrientation;if(0===i.indexOf("data:image")){var o=i.split(",")[1],c=e.readFromBinaryFile(a(o));t(parseInt(c.Orientation||1,10),s)}else{var f=new XMLHttpRequest;f.open("GET",i,!0),f.responseType="arraybuffer",f.onload=function(r){var a=new Uint8Array(this.response),n=e.readFromBinaryFile(a.buffer);t(parseInt(n.Orientation||1,10),s)},f.send()}}function a(r){for(var e=window.atob(r),a=e.length,t=new Uint8Array(a),s=0;a>s;s++)t[s]=e.charCodeAt(s);return t.buffer}function t(r,e){switch(r){case 1:break;case 2:e.css({"-moz-transform":"scaleX(-1)","-o-transform":"scaleX(-1)","-webkit-transform":"scaleX(-1)",transform:"scaleX(-1)",filter:"FlipH","-ms-filter":"FlipH"});break;case 3:e.css({transform:"rotate(180deg)"});break;case 4:e.css({"-moz-transform":"scaleX(-1)","-o-transform":"scaleX(-1)","-webkit-transform":"scaleX(-1)",transform:"scaleX(-1) rotate(180deg)",filter:"FlipH","-ms-filter":"FlipH"});break;case 5:e.css({"-moz-transform":"scaleX(-1)","-o-transform":"scaleX(-1)","-webkit-transform":"scaleX(-1)",transform:"scaleX(-1) rotate(90deg)",filter:"FlipH","-ms-filter":"FlipH"});break;case 6:e.css({transform:"rotate(90deg)"});break;case 7:e.css({"-moz-transform":"scaleX(-1)","-o-transform":"scaleX(-1)","-webkit-transform":"scaleX(-1)",transform:"scaleX(-1) rotate(-90deg)",filter:"FlipH","-ms-filter":"FlipH"});break;case 8:e.css({transform:"rotate(-90deg)"})}}return{restrict:"A",scope:{imgFixOrientation:"="},link:r}}r.module("cp.ng.fix-image-orientation",[]).directive("imgFixOrientation",[a])}(window.angular,window.EXIF,window);